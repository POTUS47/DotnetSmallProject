<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WTEMaui.Views.RecommendPage"
             Title="æŽ¨è">

	<VerticalStackLayout Spacing="24" Padding="24">
		<!-- æ ‡é¢˜æ  -->
		<Grid ColumnDefinitions="*,Auto">
			<Label Text="æƒ³åƒä»€ä¹ˆï¼Ÿ"
                   Grid.Column="0"
                   FontSize="24"
                   HorizontalOptions="Start" />

			<Button Grid.Column="1"
                    Text="âš™ï¸"
                    BackgroundColor="Transparent"
                    TextColor="#512BD4"
                    FontSize="20"
                    WidthRequest="80"
                    HeightRequest="40"
                    Clicked="OnSettingsClicked"/>
		</Grid>

		<Button Text="éšæœºé€‰ä¸€ä¸ª"
                x:Name="RandomBtn"
                Clicked="OnRandomClicked"
                FontSize="20" />

		<Button Text="åƒå¥åº·ç‚¹"
                x:Name="HealthyBtn"
                Clicked="OnHealthyClicked"
                FontSize="20" />

		<!-- åŠ¨ç”»åŠ è½½åŒºåŸŸ -->
		<Grid x:Name="AnimationContainer" 
              IsVisible="{Binding IsAnimating}"
              HeightRequest="300">
			
			<!-- èƒŒæ™¯æ¸å˜ -->
			<Frame CornerRadius="20"
                   HasShadow="True"
                   Padding="0"
                   BackgroundColor="Transparent">
				<Frame.Background>
					<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
						<GradientStop Color="#FFE6F3FF" Offset="0.0" />
						<GradientStop Color="#FFCCE7FF" Offset="0.5" />
						<GradientStop Color="#FFB3DAFF" Offset="1.0" />
					</LinearGradientBrush>
				</Frame.Background>
				
				<Grid>
					<!-- æ—‹è½¬çš„ç¾Žé£Ÿå›¾æ ‡ -->
					<Label x:Name="FoodIcon"
                           Text="ðŸ½ï¸"
                           FontSize="80"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           Opacity="0.8" />
					
					<!-- å¤–åœˆæ—‹è½¬åŠ¨ç”» -->
					<Ellipse x:Name="OuterRing"
                             Stroke="#512BD4"
                             StrokeThickness="4"
                             WidthRequest="120"
                             HeightRequest="120"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             Opacity="0.6" />
					
					<!-- å†…åœˆæ—‹è½¬åŠ¨ç”» -->
					<Ellipse x:Name="InnerRing"
                             Stroke="#FF6B6B"
                             StrokeThickness="2"
                             WidthRequest="80"
                             HeightRequest="80"
                             HorizontalOptions="Center"
                             VerticalOptions="Center"
                             Opacity="0.4" />
					
					<!-- åŠ è½½æ–‡å­— -->
					<Label x:Name="LoadingText"
                           Text="ðŸ”® æ­£åœ¨ä¸ºæ‚¨å¯»æ‰¾ç¾Žå‘³..."
                           FontSize="16"
                           HorizontalOptions="Center"
                           VerticalOptions="End"
                           Margin="0,0,0,40"
                           TextColor="#512BD4" />
				</Grid>
			</Frame>
		</Grid>

		<!-- æŽ¨èç»“æžœå±•ç¤º -->
		<Grid x:Name="ResultContainer" IsVisible="{Binding HasResult}">
			<Frame CornerRadius="16"
                   Padding="20"
                   HasShadow="True"
                   BackgroundColor="White"
                   BorderColor="#512BD4"
                   x:Name="ResultFrame">
				<VerticalStackLayout>
					<!-- åº†ç¥åŠ¨ç”» -->
					<Label x:Name="CelebrationIcon"
                           Text="ðŸŽ‰"
                           FontSize="40"
                           HorizontalOptions="Center"
                           Opacity="0" />
					
					<Label Text="âœ¨ ä»Šæ—¥æŽ¨è âœ¨"
                           FontAttributes="Bold"
                           FontSize="20"
                           HorizontalOptions="Center"
                           TextColor="#512BD4"
                           Margin="0,10,0,5" />
					
					<Label x:Name="RecommendResultLabel"
                           Text="{Binding RecommendResult}"
                           FontSize="32"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"
                           TextColor="#FF6B6B"
                           Margin="0,5,0,10" />
					
					<!-- è£…é¥°æ€§å…ƒç´  -->
					<StackLayout Orientation="Horizontal" 
                                 HorizontalOptions="Center"
                                 Spacing="10">
						<Label Text="â­" FontSize="20" x:Name="Star1" Opacity="0" />
						<Label Text="â­" FontSize="20" x:Name="Star2" Opacity="0" />
						<Label Text="â­" FontSize="20" x:Name="Star3" Opacity="0" />
					</StackLayout>
				</VerticalStackLayout>
			</Frame>
		</Grid>

		<!-- çŠ¶æ€ä¿¡æ¯ -->
		<Label Text="{Binding StatusMsg}"
               FontSize="16"
               TextColor="Gray"
               HorizontalOptions="Center" />
	</VerticalStackLayout>
</ContentPage>